{% extends 'base.html' %}
{% load static %}
{% block content %}


        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0">Warehouse Master</h4>

                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Dashboard </a>
                                        </li>
                                        <li class="breadcrumb-item active">Warehouse Master </li>
                                    </ol>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- end page title -->

                    <div class="row">
                        <div class="col">

                            <div class="h-100">
                                <div class="row mb-3 pb-1">
                                    <div class="col-12">
                                        <div class="d-flex align-items-lg-center flex-lg-row flex-column">


                                        </div><!-- end card header -->
                                    </div>
                                    <!--end col-->
                                </div>
                                <!--end row-->

                                <div class="row">
                                    <div class="col-lg-12  ">
                                        <div class="card" style="padding:25px;">
                                            <div class="card-header align-items-center d-flex">
                                                <h1 class="card-title mb-0 flex-grow-1"> Warehouse Update </h1>

                                            </div><!-- end card header -->
                                        <form  name="warehoseForm" method="POST" onsubmit="return validateForm()" action="{% url 'ItemMaster:warehouse_edit' ware_edit.pk %}">
                                                {% csrf_token %}
                                    
                                            <div class="card-body">
                                                <div class="live-preview">
                                                    <div class="col gy-4" align="center">

                                                        <div class="col-xxl-5 col-md-6" >
                                                            <div id="wname">
                                                                <label for="exampleInputrounded" class="form-label">
                                                                    Warehouse Name: </label> 
                                                                <input type="text" class="form-control rounded-pill" value="{{ware_edit.warehouse_name}}"
                                                                     onfocusout="ValidateName()" onkeyup="ValidateName()" name="warehousename"
                                                                    placeholder="Enter your Warehousename" >
                                                                <span id="wname1" class="formerror"></span>
                                                            </div>
                                                       

                                                        </div>

                                                        <div class="col-xxl-5 col-md-6" >
                                                            <div id="WAdd">
                                                                 <label for="exampleInputrounded" class="form-label">
                                                                    Warehouse Address : </label> 
                                                                <input type="text" class="form-control rounded-pill" value="{{ware_edit.warehouse_address}}"
                                                                    onfocusout="Validateitmdes()" onkeyup="Validateitmdes()" name="Warehouse_Add" 
                                                                    placeholder="Enter your Warehouse Address" >
                                                                <span id="wadd1" class="formerror"></span>

                                                            </div>
                                                        </div>

                                                        <br>
                                                        <br>
                                                        <div class="col-xxl-2 col-md-6">
                                                            <div>
                                                                <!-- <label for="exampleInputrounded" class="form-label">
                                                                    Warehouse Address : </label> -->
                                                                    <div class="flex-shrink-0">
                                                                        <button class="btn btn-primary " data-bs-toggle="modal"
                                                                            data-bs-target="#showModal" type="submit"><i
                                                                               ></i> Update
                                                                            </button>
                                                                        <button class="btn btn-danger " data-bs-toggle="modal"
                                                                            data-bs-target="#showModal" type="submit"><i
                                                                               ></i> Cancel
                                                                            </button>
                                                                      
                                                                    </div>
                                                        </div>
                                                       

                                                    </div>
                                                    <!--end row-->
                                                </div>

                                            </div>
                                        
                                        </div>
                                    </form>
                                    </div>

                                  
                                <!--end col-->
                            </div>


                        </div> <!-- end .h-100-->

                    </div> <!-- end col -->

                    <!-- end col -->
                </div>

            </div>
            <!-- container-fluid -->
        </div>
        <!-- End Page-content -->

      
    
    <script>
        function clearErrors() {

            errors = document.getElementsByClassName('formerror');
            for (let item of errors) {
                item.innerHTML = "";
            }
    
    
        }
        function seterror(id, error) {
            //sets error inside tag of id 
            element = document.getElementById(id);
            element.getElementsByClassName('formerror')[0].innerHTML = error;
    
        }
        function validateForm() {
            var returnval = true;
            clearErrors();
            var numRegex = /[!@#$%^&*+\-=\[\]{};':"\\|<>\/?]+/;
            var numberRegex = new RegExp("[0-9]");
    
                var iname = document.forms['warehoseForm']["warehousename"].value;
                if (iname.match(numRegex)) {
                    seterror("wname", "Special Characters are not allowed");
                    returnval = false;
                }
                var iname = document.forms['warehoseForm']["warehousename"].value;
                if (iname.match(numberRegex)) {
                    seterror("wname", "only characters are allowed");
                    returnval = false;
                }
                var iname = document.forms['warehoseForm']["warehousename"].value;
                if (iname.length > 50) {
                    seterror("wname", "Input must be less than 50 characters");
                    returnval = false;
                }
    
                var iname = document.forms['warehoseForm']["warehousename"].value;
                if (iname.length == "") {
                    seterror("wname", "This field is required");
                    returnval = false;
                }
              
                var itemdes = document.forms['warehoseForm']["Warehouse_Add"].value;
                if (itemdes.length > 100) {
                    seterror("WAdd", "Input must be less than 100  characters");
                    returnval = false;
                }
                var itemdes = document.forms['warehoseForm']["Warehouse_Add"].value;
                if (itemdes.length == "") {
                    seterror("WAdd", "This field is required");
                    returnval = false;
                }

                  
            return returnval;
        }
                
    </script>
    <script>

        function ValidateName() {
            var numberRegex = new RegExp("[0-9]");
            var numRegex = /[!@#$%^&*+\-=\[\]{};':"\\|<>\/?]+/;


            var iname = document.forms['warehoseForm']["warehousename"].value;
            if (iname.match(numRegex)) {
                seterror("wname", "Special Characters are not allowed");
                returnval = false;
            }
            else {

                errors = document.getElementById("wname1");

                errors.innerHTML = "";

            }


            var iname = document.forms['warehoseForm']["warehousename"].value;
            if (iname.match(numberRegex)) {
                seterror("wname", "only characters are allowed");
                returnval = false;
            }


            var iname = document.forms['warehoseForm']["warehousename"].value;
            if (iname.length == "") {
                seterror("wname", "This field is required");
                returnval = false;
            }

            var iname = document.forms['warehoseForm']["warehousename"].value;
            if (iname.length > 50) {
                seterror("wname", "Input must be less than 50 characters");
                returnval = false;
            }

            return returnval;
        }

    </script>

    <script>
        function Validateitmdes() {
            var itemdes = document.forms['warehoseForm']["Warehouse_Add"].value;
            if (itemdes.length == "") {
                seterror("WAdd", "This field is required");
                returnval = false;
            }
            else {

                errors = document.getElementById("wadd1");

                errors.innerHTML = "";

            }
            var itemdes = document.forms['warehoseForm']["Warehouse_Add"].value;
            if (itemdes.length > 100) {
                seterror("WAdd", "Input must be less than 100  characters");
                returnval = false;
            }


            return returnval;
        }
    </script>

{% endblock %}  
   

